<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Do You Love Me?</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="heart-beat">‚ù§Ô∏è</div>
        <h1>Bita, do you love me?</h1>
        <p style="font-size: 1.2rem; color: #333;">Be honest... üòâ</p>
        
        <div class="buttons" style="height: 100px;"> <!-- Fixed height for container -->
            <button class="btn btn-yes" onclick="goToWish()">YES! üòç</button>
            <button class="btn btn-no" id="noBtn" onmouseover="moveButton()" onclick="moveButton()" ontouchstart="moveButton()">NO üò¢</button>
        </div>
    </div>

    <script>
        let noClickCount = 0;

        function moveButton() {
            const btnNo = document.getElementById('noBtn');
            const btnYes = document.querySelector('.btn-yes');
            
            // Increment click/hover count
            noClickCount++;
            
            // Limit to 5 attempts, then disappear
            if (noClickCount >= 5) {
                btnNo.style.display = 'none';
                alert("Okay okay, you win! Just say YES already! üòú");
                return;
            }

            // Get Yes button rect
            const yesRect = btnYes.getBoundingClientRect();
            
            const maxX = window.innerWidth - btnNo.clientWidth - 20;
            const maxY = window.innerHeight - btnNo.clientHeight - 20;

            let newX, newY;
            let safe = false;
            let attempts = 0;

            // Strict forbidden zone (Yes button + 50px padding on all sides)
            // We use this because distance check can sometimes be lenient on corners
            const forbidden = {
                left: yesRect.left - 60,
                right: yesRect.right + 60,
                top: yesRect.top - 60,
                bottom: yesRect.bottom + 60
            };

            while (!safe && attempts < 50) {
                newX = Math.floor(Math.random() * maxX);
                newY = Math.floor(Math.random() * maxY);
                
                // Ensure bounds
                newX = Math.max(20, newX);
                newY = Math.max(20, newY);

                // Check if new position overlaps with forbidden zone
                // The new button occupies: [newX, newX + width] x [newY, newY + height]
                const btnRight = newX + btnNo.clientWidth;
                const btnBottom = newY + btnNo.clientHeight;

                // Collision detection:
                // If the button is strictly to the left, right, top, or bottom of the forbidden zone, it is safe.
                if (
                    btnRight < forbidden.left || // Completely to the left
                    newX > forbidden.right ||    // Completely to the right
                    btnBottom < forbidden.top || // Completely above
                    newY > forbidden.bottom      // Completely below
                ) {
                    safe = true;
                }
                attempts++;
            }

            // Fallback: Force to top-left corner if valid, or bottom-right
            if (!safe) {
                newX = 20;
                newY = 20;
            }

            btnNo.style.position = 'fixed'; 
            btnNo.style.left = newX + 'px';
            btnNo.style.top = newY + 'px';
        }



        function goToWish() {
            window.location.href = "wish.html";
        }
    </script>
</body>
</html>
